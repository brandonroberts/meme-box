<app-filter *ngIf='!(showGettingStarted$ | async)'
            [items]='filterItems$ | async'
            (selected)='filteredItems$.next($event)'></app-filter>

<div *ngIf='mediaList$ | async as mediaList' [ngSwitch]='uiMode$ | async'>
  <app-card-overview *ngSwitchCase='OVERVIEW_MODES.pro'>
    <app-overview-item *ngIf='showGettingStarted$ | async ; else hasData '>
      <app-getting-started></app-getting-started>
    </app-overview-item>

    <ng-template #hasData>
      <app-overview-add-item label='Add new media'
                             (click)='addNewItem()'>

      </app-overview-add-item>
    </ng-template>

    <app-overview-item *ngFor='let item of mediaList; trackBy: trackById'>
      <app-media-info (onDelete)='onDelete(item.id)'
                      (onEdit)='onEdit(item)'
                      (onEditScreenClipOptions)='onClipOptions(item, $event)'
                      (onPreview)='onPreview(item)'
                      (onToggleMobileShow)='onToggleMobileShow(item)'
                      (onToggleTwitchEvent)='onToggleTwitchEvent(item, $event)'
                      [info]='item'
                      class='mediaList__appMediaInfo'
      >

      </app-media-info>
    </app-overview-item>

  </app-card-overview>

  <div class='mo__casual-overview' *ngSwitchCase='OVERVIEW_MODES.casual'>
    <div *ngFor='let mediGroup of mediaList | groupByMediaType' class='mo__casual-overview__group'>
      <div class='mo__casual-overview__group__title mat-headline'>
        {{mediGroup.groupName}}
      </div>

      <div class='mo__casual-overview__group__medias'>
        <app-media-card *ngFor='let item of mediGroup.medias; trackBy: trackById'
                        [media]='item'
                        [screens]='screenList$ | async'
                        [tags]='tagList$ | async'
                        (onEdit)='onEdit(item)'
                        (onPreview)='onPreview(item)'
                        (onDelete)='onDelete(item.id)'
        >
        </app-media-card>
      </div>
    </div>
  </div>
</div>

<div class='floating-action-button'>
  <button mat-mini-fab
          aria-label='Switch view mode'
          matTooltip='Switch view mode'
          (click)='toggleViewModes()'
  >
    <mat-icon [svgIcon]='(uiMode$ | async) === OVERVIEW_MODES.casual ? "grid_view" : "collage"'></mat-icon>
  </button>
  <button mat-mini-fab
          aria-label='Open the help overview'
          matTooltip='Open the help overview'
          (click)='openHelpOverview()'>
    <mat-icon svgIcon='help_center'></mat-icon>
  </button>
  <button mat-fab
          aria-label='Add a new meme/media'
          matTooltip='Add a new meme/media'
          color='warn'
          (click)='addNewItem()'
  >
    <mat-icon svgIcon='add'></mat-icon>
  </button>
</div>
